{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","name","window","confirm","delete","Filter","props","type","value","search","onChange","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handlePersonChange","newNumber","handlePersonNumberChange","Persons","filtered","map","person","e","personService","number","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","useEffect","then","response","console","log","data","filter","toLowerCase","includes","event","target","preventDefault","personObject","object","indexOf","concat","ReactDOM","createRoot","document","getElementById","render"],"mappings":"6KACMA,EAAU,eAqBD,EAnBA,WACb,OAAOC,IAAMC,IAAIF,EAClB,EAiBc,EAfA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,EAC5B,EAac,EAXA,SAACE,EAAIF,GAClB,OAAOF,IAAMK,IAAN,UAAaN,EAAb,YAAwBK,GAAMF,EACtC,EASc,EAPM,SAACE,EAAIE,GACtB,GAAIC,OAAOC,QAAQ,oBAAeF,GAAQ,KACtC,OAAON,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BK,GAGzC,E,OChBKM,EAAS,SAACC,GACd,OACE,kDAEA,uBAAOC,KAAK,OAAOC,MAAOF,EAAMG,OAAQC,SAAUJ,EAAMK,uBAI3D,EAEKC,EAAa,SAACN,GAClB,OACE,8BACE,uBAAMO,SAAUP,EAAMQ,UAAtB,UACE,wCAEE,uBACEN,MAAOF,EAAMS,QACbL,SAAUJ,EAAMU,wBAGpB,0CAEE,uBACER,MAAOF,EAAMW,UACbP,SAAUJ,EAAMY,8BAGpB,8BACE,wBAAQX,KAAK,SAAb,uBAKT,EAEKY,EAAU,SAACb,GACf,OACE,8BACKA,EAAMc,SAASC,KAAI,SAAAC,GAAM,OACxB,sBAAMT,SAAU,SAACU,GAAD,OAAOC,EAAqBF,EAAOvB,GAAGuB,EAAOrB,KAA7C,EAAhB,SACE,8BACGqB,EAAOrB,KADV,IACiBqB,EAAOG,OACtB,wBAAQlB,KAAK,SAAb,wBAHqEe,EAAOG,OADxD,KAUjC,EA0FcC,EAxFH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOZ,EAAP,KAAgBe,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOV,EAAP,KAAkBc,EAAlB,KACA,EAA+BJ,mBAAS,IAAxC,mBAAOlB,EAAP,KAAeuB,EAAf,KAEAC,qBAAU,WACRT,IAEGU,MAAK,SAAAC,GACJC,QAAQC,IAAI,qBACZR,EAAWM,EAASG,KACrB,GACJ,GAAE,IAEH,IAgDMlB,EAAYX,EAEhBmB,EAAQW,QAAO,SAACjB,GAAD,OACbA,EAAOrB,KAAKuC,cAAcC,SAAShC,EAAO+B,cAD7B,IADfZ,EAKF,OACE,gCACE,2CACA,cAAC,EAAD,CAAQnB,OAAQA,EAAQE,mBAvBD,SAAC+B,GAC1BV,EAAaU,EAAMC,OAAOnC,MAC3B,IAsBG,6DACA,cAAC,EAAD,CACEM,UA5DY,SAAC4B,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnB5C,KAAMc,EACNU,OAAQR,IAE6D,IAAnEW,EAAQP,KAAI,SAAAyB,GAAM,OAAIA,EAAO7C,IAAX,IAAiB8C,QAAQF,EAAa5C,MACtDC,OAAOC,QAAP,UAAkBY,EAAlB,0EACFS,EACUI,EAAQP,KAAI,SAAAyB,GAAM,OAAIA,EAAO7C,IAAX,IAAiB8C,QAAQF,EAAa5C,MAAM,EAAE4C,GACvEX,MAAK,SAAAC,GACJN,EAAWD,EAAQP,KAAI,SAAAC,GAAM,OAAIA,EAAOvB,KAAO6B,EAAQP,KAAI,SAAAyB,GAAM,OAAIA,EAAO7C,IAAX,IAAiB8C,QAAQF,EAAa5C,MAAM,EAAIqB,EAASa,EAASG,IAAtG,KAC7BR,EAAW,IACXC,EAAa,GACd,KAGHD,EAAW,IACXC,EAAa,KAKfP,EACUqB,GACPX,MAAK,SAAAC,GACJN,EAAWD,EAAQoB,OAAOb,EAASG,OACnCR,EAAW,IACXC,EAAa,GACd,GAGN,EA6BKhB,QAAWA,EACXC,mBAxBqB,SAAC0B,GAC1BN,QAAQC,IAAIK,EAAMC,OAAOnC,OACzBsB,EAAWY,EAAMC,OAAOnC,MACzB,EAsBKS,UAAaA,EACbC,yBArB2B,SAACwB,GAChCN,QAAQC,IAAIK,EAAMC,OAAOnC,OACzBuB,EAAaW,EAAMC,OAAOnC,MAC3B,IAoBG,yCACA,cAAC,EAAD,CAASY,SAAYA,MAI1B,ECxID6B,IAASC,WAAWC,SAASC,eAAe,SAASC,OAAO,cAAC,EAAD,I","file":"static/js/main.e0705d94.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteObject = (id, name) => {\r\n    if (window.confirm(\"Delete \" + `${name}`+ \"?\")) {\r\n        return axios.delete(`${baseUrl}/${id}`)\r\n    }\r\n    \r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  delete: deleteObject\r\n}","import { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\n\nconst Filter = (props) => {\n  return(\n    <div>\n    Search persons:\n    <input type=\"text\" value={props.search} onChange={props.handleSearchChange} />\n  </div>\n  )\n  \n}\n\nconst PersonForm = (props) => {\n  return(\n    <div>\n      <form onSubmit={props.addPerson}>\n        <div>\n          Name: \n          <input \n            value={props.newName}\n            onChange={props.handlePersonChange}\n            />\n        </div>\n        <div>\n          Number:\n          <input\n            value={props.newNumber}\n            onChange={props.handlePersonNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Persons = (props) => {\n  return(\n    <div>\n        {props.filtered.map(person =>\n          <form onSubmit={(e) => personService.delete(person.id,person.name)} key={person.number}>\n            <p>\n              {person.name} {person.number}\n              <button type=\"submit\">Delete</button>\n            </p>\n          </form>\n          )}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setNewSearch] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.map(object => object.name).indexOf(personObject.name) !== -1) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)) {\n        personService\n          .update(persons.map(object => object.name).indexOf(personObject.name)+1,personObject)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== persons.map(object => object.name).indexOf(personObject.name)+1 ? person : response.data))\n            setNewName('')\n            setNewNumber('')\n          })\n      }\n      else {\n        setNewName('')\n        setNewNumber('')\n      }\n      \n    }\n    else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n    \n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  }\n\n  const handlePersonChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handlePersonNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const filtered = !search\n  ? persons\n  : persons.filter((person) =>\n      person.name.toLowerCase().includes(search.toLowerCase())\n    );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter search={search} handleSearchChange={handleSearchChange}/>\n      <h2>Add new person to phonebook</h2>\n      <PersonForm\n        addPerson = {addPerson}\n        newName = {newName}\n        handlePersonChange = {handlePersonChange}\n        newNumber = {newNumber}\n        handlePersonNumberChange = {handlePersonNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filtered = {filtered}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n\n"],"sourceRoot":""}