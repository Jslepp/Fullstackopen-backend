(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{50:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(19),a=t.n(r),o=t(5),u=t(4),i=t.n(u),s="/api/persons",d=function(){return i.a.get(s)},l=function(e){return i.a.post(s,e)},j=function(e,n){return i.a.put("".concat(s,"/").concat(e),n)},b=function(e,n){if(window.confirm("Delete "+"".concat(n)+"?"))return i.a.delete("".concat(s,"/").concat(e))},h=t(0),f=function(e){return Object(h.jsxs)("div",{children:["Search persons:",Object(h.jsx)("input",{type:"text",value:e.search,onChange:e.handleSearchChange})]})},m=function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:e.addPerson,children:[Object(h.jsxs)("div",{children:["Name:",Object(h.jsx)("input",{value:e.newName,onChange:e.handlePersonChange})]}),Object(h.jsxs)("div",{children:["Number:",Object(h.jsx)("input",{value:e.newNumber,onChange:e.handlePersonNumberChange})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Add"})})]})})},O=function(e){return Object(h.jsx)("div",{children:e.filtered.map((function(e){return Object(h.jsx)("form",{onSubmit:function(n){return b(e.id,e.name)},children:Object(h.jsxs)("p",{children:[e.name," ",e.number,Object(h.jsx)("button",{type:"submit",children:"Delete"})]})},e.number)}))})},p=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),u=Object(o.a)(a,2),i=u[0],s=u[1],b=Object(c.useState)(""),p=Object(o.a)(b,2),x=p[0],v=p[1],g=Object(c.useState)(""),w=Object(o.a)(g,2),C=w[0],N=w[1];Object(c.useEffect)((function(){d().then((function(e){console.log("promise fulfilled"),r(e.data)}))}),[]);var S=C?t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())})):t;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(f,{search:C,handleSearchChange:function(e){N(e.target.value)}}),Object(h.jsx)("h2",{children:"Add new person to phonebook"}),Object(h.jsx)(m,{addPerson:function(e){e.preventDefault();var n={name:i,number:x};-1!==t.map((function(e){return e.name})).indexOf(n.name)?window.confirm("".concat(i," is already added to phonebook, replace the old number with a new one"))?j(t.map((function(e){return e.name})).indexOf(n.name)+1,n).then((function(e){r(t.map((function(c){return c.id!==t.map((function(e){return e.name})).indexOf(n.name)+1?c:e.data}))),s(""),v("")})):(s(""),v("")):l(n).then((function(e){r(t.concat(e.data)),s(""),v("")}))},newName:i,handlePersonChange:function(e){console.log(e.target.value),s(e.target.value)},newNumber:x,handlePersonNumberChange:function(e){console.log(e.target.value),v(e.target.value)}}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(O,{filtered:S})]})};a.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(p,{}))}},[[50,1,2]]]);
//# sourceMappingURL=main.e0705d94.chunk.js.map